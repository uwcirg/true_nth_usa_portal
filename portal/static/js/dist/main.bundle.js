/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./static/js/src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./static/js/src/main.js":
/*!*******************************!*\
  !*** ./static/js/src/main.js ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_I18nextConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/I18nextConfig.js */ \"./static/js/src/modules/I18nextConfig.js\");\n/* harmony import */ var _modules_Global_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/Global.js */ \"./static/js/src/modules/Global.js\");\n/*** Portal specific javascript. Topnav.js is separate and will be used across domains. **/\n\n\n/*global __i18next*/\n\nvar userSetLang = _modules_Global_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUserLocale();\n\n_modules_I18nextConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init({\n  \"lng\": userSetLang\n}, function () {\n  if (!_modules_Global_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].checkJQuery()) {\n    alert(\"JQuery library necessary for this website was not loaded. Please refresh your browser and try again.\");\n    return false;\n  }\n\n  _modules_Global_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n  $(document).ready(function () {\n    _modules_Global_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].initPortalWrapper(window.location.protocol + \"//\" + window.location.host + \"/api/portal-wrapper-html/\");\n    _modules_Global_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onPageDidLoad(userSetLang);\n  });\n});\n\n//# sourceURL=webpack:///./static/js/src/main.js?");

/***/ }),

/***/ "./static/js/src/modules/Global.js":
/*!*****************************************!*\
  !*** ./static/js/src/modules/Global.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utility_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utility.js */ \"./static/js/src/modules/Utility.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  /*global $ i18next */\n\n  /*initializing functions performed only once on page load */\n  \"init\": function init() {\n    this.registerModules();\n    this.setCustomJQueryEvents(this.checkJQuery() ? jQuery || $ : null);\n    /*global jQuery*/\n\n    this.consolePolyFill();\n  },\n  \"registerModules\": function registerModules() {\n    if (typeof i18next === \"undefined\") {\n      i18next = {\n        t: function t(key) {\n          return key;\n        }\n      };\n    } //fallback for i18next in older browser?\n\n\n    if (!window.portalModules) {\n      window.portalModules = {};\n    }\n\n    if (typeof i18next !== \"undefined\") {\n      window.portalModules.i18next = i18next;\n    }\n\n    window.portalModules.Global = this;\n  },\n  \"checkJQuery\": function checkJQuery() {\n    if (typeof jQuery === \"undefined\") {\n      this.restoreVis();\n      return false;\n    }\n\n    return true;\n  },\n  \"handleClientInterventionForm\": function handleClientInterventionForm() {\n    if (document.querySelector(\"#clientAppForm\")) {\n      $(\"#confirmDel\").popover({\n        html: true,\n        //internal use, so no need to translate here?\n        content: \"Are you sure you want to delete this app?<br /><br /><button type='submit' name='delete' value='delete' class='btn-tnth-primary btn'>Delete Now</button> &nbsp; <div class='btn btn-default' id='cancelDel'>Cancel</div>\"\n      });\n      $(\"body\").on(\"click\", \"#cancelDel\", function () {\n        $(\"#confirmDel\").popover(\"hide\");\n      });\n    }\n  },\n  \"onPageDidLoad\": function onPageDidLoad(userSetLang) {\n    //note: display system outage message only after i18next has been instantiated - allowing message to be translated\n    _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].displaySystemOutageMessage(userSetLang);\n    /*global displaySystemOutageMessage */\n\n    this.showAlert();\n    this.handleNumericFields();\n    var LREditElement = document.getElementById(\"LREditUrl\");\n\n    if (LREditElement) {\n      this.appendLREditContainer(document.querySelector(\"#mainHolder .LREditContainer\"), LREditElement.value, LREditElement.getAttribute(\"data-show\"));\n    }\n\n    this.prePopulateEmail();\n    this.beforeSendAjax();\n    this.unloadEvent();\n    this.footer();\n    this.loginAs();\n    this.initValidator();\n    this.handleClientInterventionForm();\n  },\n  \"prePopulateEmail\": function prePopulateEmail() {\n    var requestEmail = _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUrlParameter(\"email\"),\n        emailField = document.querySelector(\"#email\");\n\n    if (requestEmail && emailField) {\n      /*global Utility getUrlParameter */\n      emailField.value = requestEmail;\n    }\n  },\n  \"handleDisableLinks\": function handleDisableLinks() {\n    if (_Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUrlParameter(\"disableLinks\")) {\n      _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].disableHeaderFooterLinks();\n    }\n  },\n  \"beforeSendAjax\": function beforeSendAjax() {\n    $.ajaxSetup({\n      beforeSend: function beforeSend(xhr, settings) {\n        if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {\n          xhr.setRequestHeader(\"X-CSRFToken\", $(\"#__CRSF_TOKEN\").val());\n        }\n      }\n    });\n  },\n  \"showAlert\": function showAlert() {\n    if ($(\"#alertModal\").length > 0) {\n      $(\"#alertModal\").modal(\"show\");\n    }\n  },\n  \"restoreVis\": function restoreVis() {\n    var loadingElement = document.getElementById(\"loadingIndicator\"),\n        mainElement = document.getElementById(\"mainHolder\");\n\n    if (loadingElement) {\n      loadingElement.setAttribute(\"style\", \"display:none; visibility:hidden;\");\n    }\n\n    if (mainElement) {\n      mainElement.setAttribute(\"style\", \"visibility:visible;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';filter:alpha(opacity=100); -moz-opacity:1; -khtml-opacity:1; opacity:1\");\n    }\n  },\n  \"showLoader\": function showLoader() {\n    document.querySelector(\"#loadingIndicator\").setAttribute(\"style\", \"display:block; visibility:visible;\");\n  },\n  \"embedPortalWrapperContent\": function embedPortalWrapperContent(data) {\n    if (data && !data.error) {\n      $(\"#mainNav\").html(data);\n    }\n  },\n  \"initPortalWrapper\": function initPortalWrapper(PORTAL_NAV_PAGE, callback) {\n    var self = this;\n\n    callback = callback || function () {};\n\n    this.showLoader();\n    _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendRequest(PORTAL_NAV_PAGE, {\n      cache: false\n    }, function (data) {\n      /*global sendRequest */\n      if (!data || data.error) {\n        document.querySelector(\"#mainNavLoadingError\").innerHTML = i18next.t(\"Error loading portal wrapper\");\n        self.restoreVis();\n        callback();\n        return false;\n      }\n\n      self.embedPortalWrapperContent(data);\n      setTimeout(function () {\n        self.restoreVis();\n        $(\"#tnthNavWrapper .logout\").on(\"click\", function (event) {\n          event.stopImmediatePropagation();\n          self.handleLogout();\n        });\n        self.handleDisableLinks();\n      }, 350);\n      self.getNotification(function (data) {\n        //ajax to get notifications information\n        self.notifications(data);\n      });\n      callback();\n    });\n  },\n  \"loginAs\": function loginAs() {\n    var LOGIN_AS_PATIENT = typeof sessionStorage !== \"undefined\" ? sessionStorage.getItem(\"loginAsPatient\") : null;\n\n    if (!LOGIN_AS_PATIENT) {\n      return false;\n    }\n\n    this.clearSessionLocale();\n    this.getUserLocale(); //need to clear current user locale in session storage when logging in as patient\n\n    _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].resetBrowserBackHistory();\n    /*global resetBrowserBackHistory */\n  },\n  \"handleLogout\": function handleLogout() {\n    sessionStorage.clear();\n    sessionStorage.setItem(\"logout\", \"true\"); //set session storage logout indicator\n  },\n  \"unloadEvent\": function unloadEvent() {\n    var self = this;\n    $(window).on(\"beforeunload\", function () {\n      if (_Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUrlParameter(\"logout\")) {\n        //taking into consideration that user may type in logout in url\n        self.handleLogout();\n      }\n    });\n  },\n  \"localeSessionKey\": \"currentUserLocale\",\n  \"clearSessionLocale\": function clearSessionLocale() {\n    sessionStorage.removeItem(this.localeSessionKey);\n  },\n  \"appendLREditContainer\": function appendLREditContainer(target, url, show) {\n    /*global i18next */\n    if (!url) {\n      return false;\n    }\n\n    if (!target) {\n      return false;\n    }\n\n    $(target).append(\"<div><button class=\\\"btn btn-default button--LR\\\"><a href=\\\"\".concat(url, \"\\\" target=\\\"_blank\\\">\").concat(i18next.t(\"Edit in Liferay\"), \"</a></button></div>\"));\n\n    if (String(show).toLowerCase() === \"true\") {\n      $(\".button--LR\").addClass(\"data-show\");\n    } else {\n      $(\".button--LR\").addClass(\"tnth-hide\");\n    }\n  },\n  \"getUserLocale\": function getUserLocale() {\n    var sessionKey = this.localeSessionKey;\n    var sessionLocale = sessionStorage.getItem(sessionKey);\n    var sessionLocaleElement = document.querySelector(\"#userSessionLocale\");\n    var userSessionLocale = sessionLocaleElement ? sessionLocaleElement.value : \"\";\n\n    if (userSessionLocale) {\n      //note this is a template variable whose value is set at the backend.  Note, it will set to EN_US pre-authentication, cannot set sessionStorage here as it will be incorrect\n      sessionStorage.setItem(sessionKey, userSessionLocale);\n      return userSessionLocale;\n    }\n\n    if (sessionLocale) {\n      return sessionLocale;\n    }\n\n    if (!this.checkJQuery()) {\n      return false;\n    }\n\n    var locale = \"en_us\";\n    $.ajax({\n      type: \"GET\",\n      url: \"/api/me\",\n      async: false\n    }).done(function (data) {\n      var userId = \"\";\n\n      if (data) {\n        userId = data.id;\n      }\n\n      if (!userId) {\n        locale = \"en_us\";\n        return false;\n      }\n\n      $.ajax({\n        type: \"GET\",\n        url: \"/api/demographics/\" + userId,\n        //dont use tnthAjax method - don't want to report error here if failed\n        async: false\n      }).done(function (data) {\n        if (!data || !data.communication) {\n          locale = \"en_us\";\n          return false;\n        }\n\n        data.communication.forEach(function (item) {\n          if (item.language) {\n            locale = item.language.coding[0].code;\n            sessionStorage.setItem(sessionKey, locale);\n          }\n        });\n      });\n    }).fail(function () {});\n    return locale;\n  },\n  \"getCopyrightYear\": function getCopyrightYear(callback) {\n    callback = callback || function () {};\n\n    var configSuffix = \"COPYRIGHT_YEAR\";\n    var stCopyRight = sessionStorage.getItem(\"config_\" + configSuffix);\n\n    if (stCopyRight) {\n      callback({\n        configSuffix: stCopyRight\n      });\n      return;\n    }\n\n    _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendRequest(\"/api/settings/\" + configSuffix, false, function (data) {\n      if (data && data.hasOwnProperty(configSuffix)) {\n        sessionStorage.setItem(\"config_\" + configSuffix, data[configSuffix]);\n      }\n\n      callback(data);\n    });\n  },\n  \"footer\": function footer() {\n    var self = this,\n        logoLinks = $(\"#homeFooter .logo-link\");\n\n    if (logoLinks.length > 0) {\n      logoLinks.each(function () {\n        if (!$.trim($(this).attr(\"href\"))) {\n          $(this).removeAttr(\"target\");\n          $(this).on(\"click\", function (e) {\n            e.preventDefault();\n            return false;\n          });\n        }\n      });\n    }\n\n    setTimeout(function () {\n      //Reveal footer after load to avoid any flashes will above content loads\n      $(\"#homeFooter\").show();\n    }, 100);\n    setTimeout(function () {\n      var userLocale = self.getUserLocale(),\n          footerElements = $(\"#homeFooter .copyright\");\n      var copyright_year = new Date().getFullYear();\n      self.getCopyrightYear(function (data) {\n        if (data && data.COPYRIGHT_YEAR) {\n          copyright_year = data.COPYRIGHT_YEAR;\n        }\n\n        var getContent = function getContent(country_code, copyright_year) {\n          var content = \"\"; //need to set this on callback as the call is asynchronous - otherwise the copyright value can be set before config value is returned\n\n          switch (String(country_code.toUpperCase())) {\n            case \"US\":\n              content = i18next.t(\"&copy; \".concat(copyright_year, \" Movember Foundation. All rights reserved. A registered 501(c)3 non-profit organization (Movember Foundation).\"));\n              break;\n\n            case \"AU\":\n              content = i18next.t(\"&copy; \".concat(copyright_year, \" Movember Foundation. All rights reserved. Movember Foundation is a registered charity in Australia ABN 48894537905 (Movember Foundation).\"));\n              break;\n\n            case \"NZ\":\n              content = i18next.t(\"&copy; \".concat(copyright_year, \" Movember Foundation. All rights reserved. Movember Foundation is a New Zealand registered charity number CC51320 (Movember Foundation).\"));\n              break;\n\n            default:\n              content = i18next.t(\"&copy; \".concat(copyright_year, \" Movember Foundation (Movember Foundation). All rights reserved.\"));\n          }\n\n          return content;\n        }; // todo: properly decouple country/locale\n\n\n        var country_code = userLocale.split(\"_\")[1];\n\n        if (userLocale.toUpperCase() !== \"EN_US\") {\n          // shortcut - infer country from locale if locale isn't default (en_us)\n          footerElements.html(getContent(country_code, copyright_year));\n        } else {\n          $.getJSON(\"//geoip.cirg.washington.edu/json/\", function (data) {\n            //country code Australia AU New Zealand NZ USA US\n            if (data && data.country_code) {\n              footerElements.html(getContent(data.country_code, copyright_year));\n            } else {\n              footerElements.html(getContent(country_code, copyright_year));\n            }\n          });\n        }\n      });\n    }, 500);\n  },\n  \"getNotification\": function getNotification(callback) {\n    var userId = $(\"#notificationUserId\").val();\n\n    callback = callback || function () {};\n\n    if (!userId) {\n      callback({\n        \"error\": i18next.t(\"User id is required\")\n      });\n      return false;\n    }\n\n    $.ajax({\n      type: \"GET\",\n      url: \"/api/user/\" + userId + \"/notification\"\n    }).done(function (data) {\n      if (data) {\n        callback(data);\n      } else {\n        callback({\n          \"error\": i18next.t(\"no data returned\")\n        });\n      }\n    }).fail(function () {\n      callback({\n        \"error\": i18next.t(\"Error occurred retrieving notification.\")\n      });\n    });\n  },\n  \"deleteNotification\": function deleteNotification(userId, notificationId) {\n    if (!userId || parseInt(notificationId) < 0 || !notificationId) {\n      return false;\n    }\n\n    var self = this;\n    this.getNotification(function (data) {\n      if (!data.notifications || !data.notifications.length) {\n        return;\n      }\n\n      var arrNotification = $.grep(data.notifications, function (notification) {\n        //check if there is notification for this id -dealing with use case where user deletes same notification in a separate open window\n        return parseInt(notification.id) === parseInt(notificationId);\n      });\n      var userId = $(\"#notificationUserId\").val();\n\n      if (arrNotification.length) {\n        //delete notification only if it exists\n        $.ajax({\n          type: \"DELETE\",\n          url: \"/api/user/\" + userId + \"/notification/\" + notificationId\n        }).done(function () {\n          $(\"#notification_\" + notificationId).attr(\"data-visited\", true);\n          $(\"#notification_\" + notificationId).find(\"[data-action-required]\").removeAttr(\"data-action-required\");\n          self.setNotificationsDisplay();\n        });\n      }\n    });\n  },\n  \"notifications\": function notifications(data) {\n    if (!data || !data.notifications || data.notifications.length === 0) {\n      $(\"#notificationBanner\").hide();\n      return false;\n    }\n\n    var arrNotificationText = data.notifications.map(function (notice) {\n      return \"<div class=\\\"notification\\\" id=\\\"notification_\".concat(notice.id, \"\\\" data-id=\\\"\").concat(notice.id, \"\\\" data-name=\\\"\").concat(notice.name, \"\\\">\").concat(notice.content, \"</div>\");\n    });\n    var self = this;\n    $(\"#notificationBanner .content\").html(arrNotificationText.join(\"\"));\n    $(\"#notificationBanner .notification\").addClass(\"active\");\n    $(\"#notificationBanner\").show();\n    $(\"#notificationBanner [data-id] a\").each(function () {\n      $(this).on(\"click\", function (e) {\n        e.stopPropagation();\n        var parentElement = $(this).closest(\".notification\");\n        parentElement.attr(\"data-visited\", \"true\"); //adding the attribute data-visited will hide the notification entry\n\n        self.deleteNotification($(\"#notificationUserId\").val(), parentElement.attr(\"data-id\")); //delete relevant notification\n\n        self.setNotificationsDisplay();\n      });\n    });\n    $(\"#notificationBanner .close\").on(\"click\", function (e) {\n      //closing the banner\n      e.stopPropagation();\n      $(\"#notificationBanner [data-id]\").each(function () {\n        var actionRequired = $(this).find(\"[data-action-required]\").length > 0;\n\n        if (!actionRequired) {\n          $(this).attr(\"data-visited\", true);\n          self.deleteNotification($(\"#notificationUserId\").val(), $(this).attr(\"data-id\"));\n        }\n      });\n      self.setNotificationsDisplay();\n    });\n    self.setNotificationsDisplay();\n  },\n  \"setNotificationsDisplay\": function setNotificationsDisplay() {\n    if ($(\"#notificationBanner [data-action-required]\").length > 0) {\n      //requiring user action\n      $(\"#notificationBanner .close\").removeClass(\"active\");\n      return false;\n    }\n\n    var allVisited = true;\n    $(\"#notificationBanner [data-id]\").each(function () {\n      if (allVisited && !$(this).attr(\"data-visited\")) {\n        //check if all links have been visited\n        allVisited = false;\n        return false;\n      }\n    });\n\n    if (allVisited) {\n      $(\"#notificationBanner\").hide();\n    } else {\n      $(\"#notificationBanner .close\").addClass(\"active\");\n    }\n  },\n  \"setCustomJQueryEvents\": function setCustomJQueryEvents($) {\n    if (!$) {\n      return false;\n    }\n\n    var __winHeight = $(window).height();\n\n    $.fn.isOnScreen = function () {\n      var viewport = {};\n      viewport.top = $(window).scrollTop();\n      viewport.bottom = viewport.top + __winHeight;\n      var bounds = {};\n      bounds.top = this && this.offset() ? this.offset().top : 0;\n      bounds.bottom = bounds.top + this.outerHeight();\n      return bounds.top <= viewport.bottom && bounds.bottom >= viewport.top;\n    };\n\n    $.fn.sortOptions = function () {\n      var selectOptions = $(this).find(\"option\");\n      selectOptions.sort(function (a, b) {\n        if (a.text > b.text) {\n          return 1;\n        } else if (a.text < b.text) {\n          return -1;\n        } else {\n          return 0;\n        }\n      });\n      return selectOptions;\n    };\n  },\n  \"consolePolyFill\": function consolePolyFill() {\n    /**\n     * Protect window.console method calls, e.g. console is not defined on IE\n     * unless dev tools are open, and IE doesn't define console.debug\n     */\n    var console = window.console = window.console || {};\n\n    var noop = function noop() {};\n\n    var log = console.log || noop;\n\n    var start = function start(name) {\n      return function (param) {\n        log(\"Start \" + name + \": \" + param);\n      };\n    };\n\n    var end = function end(name) {\n      return function (param) {\n        log(\"End \" + name + \": \" + param);\n      };\n    };\n\n    var methods = {\n      // Internet Explorer (IE 10): http://msdn.microsoft.com/en-us/library/ie/hh772169(v=vs.85).aspx#methods\n      // assert(test, message, optionalParams), clear(), count(countTitle), debug(message, optionalParams), dir(value, optionalParams), dirxml(value), error(message, optionalParams), group(groupTitle), groupCollapsed(groupTitle), groupEnd([groupTitle]), info(message, optionalParams), log(message, optionalParams), msIsIndependentlyComposed(oElementNode), profile(reportName), profileEnd(), time(timerName), timeEnd(timerName), trace(), warn(message, optionalParams)\n      // \"assert\", \"clear\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"msIsIndependentlyComposed\", \"profile\", \"profileEnd\", \"time\", \"timeEnd\", \"trace\", \"warn\"\n      // Safari (2012. 07. 23.): https://developer.apple.com/library/safari/#documentation/AppleApplications/Conceptual/Safari_Developer_Guide/DebuggingYourWebsite/DebuggingYourWebsite.html#//apple_ref/doc/uid/TP40007874-CH8-SW20\n      // assert(expression, message-object), count([title]), debug([message-object]), dir(object), dirxml(node), error(message-object), group(message-object), groupEnd(), info(message-object), log(message-object), profile([title]), profileEnd([title]), time(name), markTimeline(\"string\"), trace(), warn(message-object)\n      // \"assert\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupEnd\", \"info\", \"log\", \"profile\", \"profileEnd\", \"time\", \"markTimeline\", \"trace\", \"warn\"\n      // Firefox (2013. 05. 20.): https://developer.mozilla.org/en-US/docs/Web/API/console\n      // debug(obj1 [, obj2, ..., objN]), debug(msg [, subst1, ..., substN]), dir(object), error(obj1 [, obj2, ..., objN]), error(msg [, subst1, ..., substN]), group(), groupCollapsed(), groupEnd(), info(obj1 [, obj2, ..., objN]), info(msg [, subst1, ..., substN]), log(obj1 [, obj2, ..., objN]), log(msg [, subst1, ..., substN]), time(timerName), timeEnd(timerName), trace(), warn(obj1 [, obj2, ..., objN]), warn(msg [, subst1, ..., substN])\n      // \"debug\", \"dir\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"time\", \"timeEnd\", \"trace\", \"warn\"\n      // Chrome (2013. 01. 25.): https://developers.google.com/chrome-developer-tools/docs/console-api\n      // assert(expression, object), clear(), count(label), debug(object [, object, ...]), dir(object), dirxml(object), error(object [, object, ...]), group(object[, object, ...]), groupCollapsed(object[, object, ...]), groupEnd(), info(object [, object, ...]), log(object [, object, ...]), profile([label]), profileEnd(), time(label), timeEnd(label), timeStamp([label]), trace(), warn(object [, object, ...])\n      // \"assert\", \"clear\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"profile\", \"profileEnd\", \"time\", \"timeEnd\", \"timeStamp\", \"trace\", \"warn\"\n      // Chrome (2012. 10. 04.): https://developers.google.com/web-toolkit/speedtracer/logging-api\n      // markTimeline(String)\n      // \"markTimeline\"\n      assert: noop,\n      clear: noop,\n      trace: noop,\n      count: noop,\n      timeStamp: noop,\n      msIsIndependentlyComposed: noop,\n      debug: log,\n      info: log,\n      log: log,\n      warn: log,\n      error: log,\n      dir: log,\n      dirxml: log,\n      markTimeline: log,\n      group: start(\"group\"),\n      groupCollapsed: start(\"groupCollapsed\"),\n      groupEnd: end(\"group\"),\n      profile: start(\"profile\"),\n      profileEnd: end(\"profile\"),\n      time: start(\"time\"),\n      timeEnd: end(\"time\")\n    };\n\n    for (var method in methods) {\n      if (methods.hasOwnProperty(method) && !(method in console)) {\n        // define undefined methods as best-effort methods\n        console[method] = methods[method];\n      }\n    }\n  },\n  \"handleNumericFields\": function handleNumericFields() {\n    //display keyboard for numeric fields on mobile devices\n    if (_Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isTouchDevice()) {\n      _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].convertToNumericField($(\"#date, #year\"));\n      /*global Utility convertToNumericField */\n    }\n  },\n  \"initValidator\": function initValidator() {\n    if (typeof $.fn.validator === \"undefined\") {\n      return false;\n    }\n\n    $(\"form.to-validate\").validator({\n      // To validate a form, add class to <form> and validate by ID.\n      custom: {\n        birthday: function birthday() {\n          var m = parseInt($(\"#month\").val()),\n              d = parseInt($(\"#date\").val()),\n              y = parseInt($(\"#year\").val());\n          var goodDate = true,\n              errorMsg = \"\"; // If NaN then the values haven't been entered yet, so we, validate as true until other fields are entered\n\n          if (isNaN(y) || isNaN(d) && isNaN(y)) {\n            $(\"#errorbirthday\").html(i18next.t(\"All fields must be complete.\")).hide();\n            goodDate = false;\n          } else if (isNaN(d)) {\n            errorMsg = i18next.t(\"Please enter a valid date.\");\n          } else if (isNaN(m)) {\n            errorMsg += (errorMsg ? \"<br/>\" : \"\") + i18next.t(\"Please enter a valid month.\");\n          } else if (isNaN(y)) {\n            errorMsg += (errorMsg ? \"<br/>\" : \"\") + i18next.t(\"Please enter a valid year.\");\n          }\n\n          if (errorMsg) {\n            $(\"#errorbirthday\").html(errorMsg).show();\n            $(\"#birthday\").val(\"\");\n            goodDate = false;\n          }\n\n          if (goodDate) {\n            $(\"#errorbirthday\").html(\"\").hide();\n          }\n\n          return goodDate;\n        },\n        customemail: function customemail($el) {\n          var emailVal = $.trim($el.val());\n\n          var update = function update($el) {\n            if ($el.attr(\"data-update-on-validated\") === \"true\" && $el.attr(\"data-user-id\")) {\n              $el.trigger(\"postEventUpdate\");\n            }\n          };\n\n          if (emailVal === \"\") {\n            if (!$el.attr(\"data-optional\")) {\n              return false;\n            }\n\n            update($el); //if email address is optional, update it as is\n\n            return true;\n          }\n\n          var emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n          var addUserId = \"\"; // Add user_id to api call (used on patient_profile page so that staff can edit)\n\n          if ($el.attr(\"data-user-id\")) {\n            addUserId = \"&user_id=\" + $el.attr(\"data-user-id\");\n          }\n\n          if (emailReg.test(emailVal)) {\n            // If this is a valid address, then use unique_email to check whether it's already in use\n            var url = \"/api/unique_email?email=\" + encodeURIComponent(emailVal) + addUserId;\n            _Utility_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendRequest(url, {\n              max_attempts: 1\n            }, function (data) {\n              if (data.error) {\n                //note a failed request will be logged\n                $(\"#erroremail\").html(i18next.t(\"Error occurred when verifying the uniqueness of email\")).parents(\".form-group\").addClass(\"has-error\");\n                return; //stop proceeding to update email\n              }\n\n              if (data.unique) {\n                $(\"#erroremail\").html(\"\").parents(\".form-group\").removeClass(\"has-error\");\n                update($el);\n                return;\n              }\n\n              $(\"#erroremail\").html(i18next.t(\"This e-mail address is already in use. Please enter a different address.\")).parents(\".form-group\").addClass(\"has-error\");\n            });\n          }\n\n          return emailReg.test(emailVal);\n        },\n        htmltags: function htmltags($el) {\n          var containHtmlTags = function containHtmlTags(text) {\n            if (!text) {\n              return false;\n            }\n\n            return /[<>]/.test(text);\n          };\n\n          var invalid = containHtmlTags($el.val());\n\n          if (invalid) {\n            $(\"#error\" + $el.attr(\"id\")).html(i18next.t(\"Invalid characters in text.\"));\n            return false;\n          }\n\n          $(\"#error\" + $el.attr(\"id\")).html(\"\");\n          return !invalid;\n        }\n      },\n      errors: {\n        htmltags: i18next.t(\"Please remove invalid characters and try again.\"),\n        birthday: i18next.t(\"Sorry, this isn't a valid date. Please try again.\"),\n        customemail: i18next.t(\"This isn't a valid e-mail address, please double-check.\")\n      },\n      disable: false\n    }).off(\"input.bs.validator change.bs.validator\"); // Only check on blur (turn off input)   to turn off change - change.bs.validator\n  }\n});\n\n//# sourceURL=webpack:///./static/js/src/modules/Global.js?");

/***/ }),

/***/ "./static/js/src/modules/I18nextConfig.js":
/*!************************************************!*\
  !*** ./static/js/src/modules/I18nextConfig.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*** wrapper object to initalize i18next ***/\n/* harmony default export */ __webpack_exports__[\"default\"] = ((function () {\n  function _init(options, callback) {\n    var getQueryString = function (a) {\n      if (String(a) === \"\") {\n        return {};\n      }\n\n      var b = {};\n\n      for (var i = 0; i < a.length; ++i) {\n        var p = a[i].split(\"=\", 2);\n\n        if (p.length === 1) {\n          b[p[0]] = \"\";\n        } else {\n          b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n        }\n      }\n\n      return b;\n    }(window.location.search.substr(1).split(\"&\"));\n\n    if (typeof window.localStorage !== \"undefined\") {\n      if (window.localStorage.getItem(\"i18nextLng\")) {\n        window.localStorage.removeItem(\"i18nextLng\");\n      }\n    }\n\n    var source = options.loadPath || \"/static/files/locales/{{lng}}/translation.json\"; //consuming translation json from each corresponding locale\n\n    var defaultOptions = {\n      fallbackLng: \"en-US\",\n      lng: \"en-US\",\n      preload: false,\n      debug: false,\n      defaultNS: \"translation\",\n      initImmediate: false,\n      keySeparator: \"----\",\n      nsSeparator: \"----\",\n      load: \"currentOnly\",\n      returnEmptyString: false,\n      returnNull: false,\n      saveMissing: false,\n      missingKeyHandler: false,\n      parseMissingKeyHandler: function parseMissingKeyHandler(key) {\n        //allow lookup for translated text for missing key\n        var sessionData = sessionStorage.getItem(\"i18nextData_\" + this.lng);\n\n        if (!sessionData) {\n          return key;\n        }\n\n        try {\n          var data = JSON.parse(sessionData);\n\n          if (data && data.hasOwnProperty(key)) {\n            return data[key];\n          }\n        } catch (e) {\n          return key;\n        }\n\n        return key;\n      },\n      backend: {\n        // load from static file\n        language: options.lng,\n        loadPath: source,\n        ajax: function ajax(url, options, callback, data, cache) {\n          /*\n           * default code from i18nextBackend.js, but modify it to allow sync loading of resources and add session storage\n           */\n          callback = callback || function () {};\n\n          var sessionItemKey = \"i18nextData_\" + options.language;\n\n          if (data && (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) === \"object\") {\n            /*global _typeof */\n            if (!cache) {\n              data[\"_t\"] = new Date();\n            } // URL encoded form data must be in querystring format\n\n\n            data = addQueryString(\"\", data).slice(1);\n            /* global addQueryString */\n          }\n\n          if (options.queryStringParams) {\n            url = addQueryString(url, options.queryStringParams);\n            /* global addQueryString */\n          }\n\n          var x;\n\n          if (XMLHttpRequest) {\n            x = new XMLHttpRequest();\n          } else {\n            x = new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            /*global ActiveXObject */\n          }\n\n          try {\n            //use sync\n            x.open(data ? \"POST\" : \"GET\", url, 0);\n\n            if (!options.crossDomain) {\n              x.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            }\n\n            x.withCredentials = !!options.withCredentials;\n\n            if (data) {\n              x.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            }\n\n            if (x.overrideMimeType) {\n              x.overrideMimeType(\"application/json\");\n            }\n\n            var h = options.customHeaders;\n\n            if (h) {\n              for (var i in h) {\n                if (h.hasOwnProperty(i)) {\n                  x.setRequestHeader(i, h[i]);\n                }\n              }\n            }\n\n            x.onreadystatechange = function () {\n              if (x.readyState > 3) {\n                callback(x.responseText, x);\n\n                if (x.responseText && !sessionStorage.getItem(sessionItemKey)) {\n                  sessionStorage.setItem(sessionItemKey, JSON.stringify(x.responseText));\n                }\n              }\n            };\n\n            x.send(data);\n          } catch (e) {\n            if (console) {\n              console.log(e);\n            }\n            /*global console */\n\n          }\n        }\n      }\n    };\n    options = options || defaultOptions;\n\n    if (options.lng) {\n      options.lng = options.lng.replace(\"_\", \"-\");\n    }\n\n    options.debug = options.debug ? options.debug : getQueryString.debugi18next ? true : false;\n    var configOptions = defaultOptions;\n\n    for (var key in options) {\n      if (defaultOptions.hasOwnProperty(key)) {\n        defaultOptions[key] = options[key];\n      }\n    }\n\n    var sessionItemKey = \"i18nextData_\" + options.language;\n\n    callback = callback || function () {};\n\n    if (typeof i18next === \"undefined\") {\n      //i18next js libraries raises runtime error in <= IE8 \n      callback();\n      return false;\n    }\n\n    if (String(options.lng).toLowerCase() === \"en-us\" || sessionStorage.getItem(sessionItemKey)) {\n      //still need to initialize i18next but skip call to backend\n      i18next.init(configOptions, function (err, t) {\n        /* global i18next i18nextXHRBackend */\n        callback(t);\n      });\n    } else {\n      i18next.use(i18nextXHRBackend).init(configOptions, function (err, t) {\n        /* global i18next i18nextXHRBackend */\n        callback(t);\n      });\n    }\n  }\n\n  return {\n    init: function init(options, callback) {\n      callback = callback || function () {};\n\n      try {\n        _init(options, callback);\n      } catch (e) {\n        /*eslint no-console: off */\n        console.log(\"Error initialized i18next \", e.message); //note i18next makes use of session storage/local storage, the access of which creates JS runtime error when cookies are disabled, so we need to catch them\n\n        callback();\n      }\n    }\n  };\n})());\n\n//# sourceURL=webpack:///./static/js/src/modules/I18nextConfig.js?");

/***/ }),

/***/ "./static/js/src/modules/Utility.js":
/*!******************************************!*\
  !*** ./static/js/src/modules/Utility.js ***!
  \******************************************/
/*! exports provided: default, getExportFileName, getUrlParameter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getExportFileName\", function() { return getExportFileName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUrlParameter\", function() { return getUrlParameter; });\nvar Utility = function () {\n  var UtilityObj = function UtilityObj() {\n    /*global $ */\n    this.requestAttempts = 0;\n  };\n\n  UtilityObj.prototype.hasValue = function (val) {\n    return String(val) !== \"null\" && String(val) !== \"\" && String(val) !== \"undefined\";\n  };\n\n  UtilityObj.prototype.showMain = function () {\n    $(\"#mainHolder\").css({\n      \"visibility\": \"visible\",\n      \"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n      \"filter\": \"alpha(opacity=100)\",\n      \"-moz-opacity\": 1,\n      \"-khtml-opacity\": 1,\n      \"opacity\": 1\n    });\n  };\n\n  UtilityObj.prototype.hideLoader = function (delay, time) {\n    if (delay) {\n      $(\"#loadingIndicator\").hide();\n      return;\n    }\n\n    setTimeout(function () {\n      $(\"#loadingIndicator\").fadeOut();\n    }, time || 200);\n  };\n\n  UtilityObj.prototype.loader = function (show) {\n    //landing page\n    if (document.getElementById(\"fullSizeContainer\")) {\n      this.hideLoader();\n      this.showMain();\n      return false;\n    }\n\n    if (show) {\n      $(\"#loadingIndicator\").show();\n      return;\n    }\n\n    if (!this.isDelayLoading()) {\n      var self = this;\n      setTimeout(function () {\n        self.showMain();\n      }, 100);\n      this.hideLoader(true, 350);\n    }\n  };\n\n  UtilityObj.prototype.isDelayLoading = function () {\n    /*global DELAY_LOADING*/\n    return typeof DELAY_LOADING !== \"undefined\" && DELAY_LOADING;\n  };\n\n  UtilityObj.prototype.isTouchDevice = function () {\n    return true === (\"ontouchstart\" in window || window.DocumentTouch && document instanceof window.DocumentTouch);\n  };\n\n  UtilityObj.prototype.getIEVersion = function () {\n    var match = navigator.userAgent.match(/(?:MSIE |Trident\\/.*; rv:)(\\d+)/);\n    return match ? parseInt(match[1]) : false;\n  };\n\n  UtilityObj.prototype.newHttpRequest = function (url, params, callBack) {\n    /* note: this function supports older version of IE (version <= 9) - jquery ajax calls errored in older IE version*/\n    this.requestAttempts++;\n    var xmlhttp,\n        self = this;\n\n    callBack = callBack || function () {};\n\n    if (window.XDomainRequest) {\n      /*global XDomainRequest */\n      xmlhttp = new XDomainRequest();\n\n      xmlhttp.onload = function () {\n        callBack(xmlhttp.responseText);\n      };\n    } else if (window.XMLHttpRequest) {\n      xmlhttp = new XMLHttpRequest();\n    } else {\n      xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n      /*global ActiveXObject */\n    }\n\n    xmlhttp.onreadystatechange = function () {\n      if (xmlhttp.readyState === 4) {\n        if (xmlhttp.status === 200) {\n          callBack(xmlhttp.responseText);\n          self.requestAttempts = 0;\n          return;\n        }\n\n        if (self.requestAttempts < 3) {\n          setTimeout(function () {\n            self.newHttpRequest(url, params, callBack);\n          }, 3000);\n        } else {\n          callBack({\n            error: xmlhttp.responseText\n          });\n          self.loader();\n          self.requestAttempts = 0;\n        }\n      }\n    };\n\n    params = params || {};\n    xmlhttp.open(\"GET\", url, true);\n\n    for (var param in params) {\n      if (params.hasOwnProperty(param)) {\n        xmlhttp.setRequestHeader(param, params[param]);\n      }\n    }\n\n    if (!params.cache) {\n      xmlhttp.setRequestHeader(\"cache-control\", \"no-cache\");\n      xmlhttp.setRequestHeader(\"expires\", \"-1\");\n      xmlhttp.setRequestHeader(\"pragma\", \"no-cache\"); //legacy HTTP 1.0 servers and IE support\n    }\n\n    xmlhttp.send();\n  };\n\n  UtilityObj.prototype.ajaxRequest = function (url, params, callback) {\n    callback = callback || function () {};\n\n    if (!url) {\n      callback({\n        error: i18next.t(\"Url is required.\")\n      });\n      return false;\n    }\n\n    var defaults = {\n      url: url,\n      type: \"GET\",\n      contentType: \"text/plain\",\n      timeout: 5000,\n      cache: false\n    };\n    params = params || defaults;\n    params = $.extend({}, defaults, params);\n    this.requestAttempts++;\n    var uself = this;\n    $.ajax(params).done(function (data) {\n      callback(data);\n      uself.requestAttempts = 0;\n    }).fail(function () {\n      if (uself.requestAttempts <= 3) {\n        setTimeout(function () {\n          uself.ajaxRequest(url, params, callback);\n        }, 3000);\n      } else {\n        callback({\n          error: i18next.t(\"Error occurred processing request\")\n        });\n        /*global i18next */\n\n        uself.requestAttempts = 0;\n        uself.loader();\n      }\n    }).always(function () {\n      uself.loader();\n    });\n  };\n\n  UtilityObj.prototype.initWorker = function (url, params, callbackFunc) {\n    var worker = new Worker(\"/static/js/ajaxWorker.js\");\n    var self = this;\n    worker.postMessage({\n      url: url,\n      params: params\n    });\n    worker.addEventListener(\"message\", function (e) {\n      callbackFunc.call(self, e.data);\n      worker.terminate();\n    }, false);\n    worker.addEventListener(\"error\", function (e) {\n      console.log(\"Worker runtime error: Line \", e.lineno, \" in \", e.filename, \": \", e.message);\n      worker.terminate();\n    }, false);\n  };\n\n  UtilityObj.prototype.workerAllowed = function () {\n    return window.Worker && !this.isTouchDevice();\n  };\n\n  UtilityObj.prototype.getRequestMethod = function () {\n    return this.getIEVersion() ? this.newHttpRequest : this.ajaxRequest; //NOTE JQuery ajax request does not work for IE <= 9\n  };\n\n  UtilityObj.prototype.sendRequest = function (url, params, callback) {\n    /*generic function for sending GET ajax request, make use of worker if possible */\n    params = params || {};\n\n    if (params.useWorker && this.workerAllowed()) {\n      this.initWorker(url, params, callback);\n      return true;\n    }\n\n    var useFunc = this.getRequestMethod();\n    useFunc.call(this, url, params, function (data) {\n      callback.call(this, data);\n    });\n  };\n\n  UtilityObj.prototype.LRKeyEvent = function () {\n    var LR_INVOKE_KEYCODE = 187;\n\n    if ($(\".button--LR\").length > 0) {\n      $(\"html\").on(\"keydown\", function (e) {\n        if (parseInt(e.keyCode) === parseInt(LR_INVOKE_KEYCODE)) {\n          $(\".button--LR\").toggleClass(\"data-show\");\n        }\n      });\n    }\n  };\n\n  UtilityObj.prototype.getLoaderHTML = function (message) {\n    return \"<div class=\\\"loading-message-indicator\\\"><i class=\\\"fa fa-spinner fa-spin fa-2x\\\"></i>\".concat(message ? \"&nbsp;\" + message : \"\", \"</div>\");\n  };\n\n  UtilityObj.prototype.convertToNumericField = function (field) {\n    if (!field) {\n      return;\n    }\n\n    if (this.isTouchDevice()) {\n      field.each(function () {\n        $(this).prop(\"type\", \"tel\");\n      });\n    }\n  };\n\n  UtilityObj.prototype.isString = function (obj) {\n    return Object.prototype.toString.call(obj) === \"[object String]\";\n  };\n\n  UtilityObj.prototype.disableHeaderFooterLinks = function () {\n    var links = $(\"#tnthNavWrapper a, #homeFooter a\").not(\"a[href*='logout']\").not(\"a.required-link\").not(\"a.home-link\");\n    links.addClass(\"disabled\");\n    links.prop(\"onclick\", null).off(\"click\");\n    links.on(\"click\", function (e) {\n      e.preventDefault();\n      return false;\n    });\n  };\n\n  UtilityObj.prototype.pad = function (n) {\n    n = parseInt(n);\n    return !isNaN(n) && n < 10 ? \"0\" + n : n;\n  };\n\n  UtilityObj.prototype.escapeHtml = function (text) {\n    \"use strict\";\n\n    if (text === null || text !== \"undefined\" || String(text).length === 0) {\n      return text;\n    }\n\n    return text.replace(/[\\\"&'\\/<>]/g, function (a) {\n      return {\n        '\"': \"&quot;\",\n        \"&\": \"&amp;\",\n        \"'\": \"&#39;\",\n        \"/\": \"&#47;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\"\n      }[a];\n    });\n  };\n\n  UtilityObj.prototype.containHtmlTags = function (text) {\n    if (!text) {\n      return false;\n    }\n\n    return /[<>]/.test(text);\n  };\n\n  UtilityObj.prototype.getExportFileName = function (prefix) {\n    var d = new Date();\n    return (prefix ? prefix : \"ExportList_\") + (\"00\" + d.getDate()).slice(-2) + (\"00\" + (d.getMonth() + 1)).slice(-2) + d.getFullYear();\n  };\n\n  UtilityObj.prototype.capitalize = function (str) {\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    });\n  };\n\n  UtilityObj.prototype.restoreVis = function () {\n    var loadingElement = document.getElementById(\"loadingIndicator\"),\n        mainElement = document.getElementById(\"mainHolder\");\n\n    if (loadingElement) {\n      loadingElement.setAttribute(\"style\", \"display:none; visibility:hidden;\");\n    }\n\n    if (mainElement) {\n      mainElement.setAttribute(\"style\", \"visibility:visible;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';filter:alpha(opacity=100); -moz-opacity:1; -khtml-opacity:1; opacity:1\");\n    }\n  };\n\n  UtilityObj.prototype.VueErrorHandling = function () {\n    if (typeof Vue === \"undefined\") {\n      return false;\n    }\n    /*global Vue */\n\n\n    var self = this;\n\n    Vue.config.errorHandler = function (err, vm, info) {\n      var handler,\n          current = vm;\n\n      if (vm.$options.errorHandler) {\n        handler = vm.$options.errorHandler;\n      } else {\n        while (!handler && current.$parent) {\n          current = current.$parent;\n          handler = current.$options.errorHandler;\n        }\n      }\n\n      self.restoreVis();\n\n      if (handler) {\n        handler.call(current, err, vm, info);\n        return;\n      }\n\n      console.log(err);\n    };\n  };\n\n  UtilityObj.prototype.extend = function (obj, extension) {\n    // Extend an object with an extension\n    for (var key in extension) {\n      if (extension.hasOwnProperty(key)) {\n        obj[key] = extension[key];\n      }\n    }\n\n    return obj;\n  };\n\n  UtilityObj.prototype.getUrlParameter = function (name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n    var results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1]);\n  };\n\n  UtilityObj.prototype.resetBrowserBackHistory = function (locationUrl, stateObject, title) {\n    var historyDefined = typeof history !== \"undefined\" && history.pushState;\n    locationUrl = locationUrl || location.href;\n\n    if (historyDefined) {\n      history.pushState(stateObject, title, locationUrl);\n    }\n\n    window.addEventListener(\"popstate\", function () {\n      if (historyDefined) {\n        history.pushState(stateObject, title, locationUrl);\n      } else {\n        window.history.forward(1);\n      }\n    });\n  };\n\n  UtilityObj.prototype.handlePostLogout = function () {\n    if (typeof sessionStorage === \"undefined\") {\n      return false;\n    }\n\n    if (sessionStorage.getItem(\"logout\")) {\n      this.resetBrowserBackHistory(location.orgin, \"logout\");\n      /* global resetBrowserBackHistory */\n\n      sessionStorage.removeItem(\"logout\");\n    }\n  };\n\n  UtilityObj.prototype.displaySystemOutageMessage = function (locale) {\n    locale = locale || \"en-us\";\n    locale = locale.replace(\"_\", \"-\");\n    var systemMaintenanceElId = \"systemMaintenanceContainer\";\n\n    if (!document.getElementById(systemMaintenanceElId)) {\n      //check for system outage maintenance message element\n      return;\n    }\n\n    var self = this;\n    this.ajaxRequest(\"api/settings\", {\n      contentType: \"application/json; charset=utf-8\"\n    }, function (data) {\n      if (!data || !(data.MAINTENANCE_MESSAGE || data.MAINTENANCE_WINDOW)) {\n        return false;\n      }\n\n      var messageElement = document.querySelector(\".message-container\");\n\n      if (!messageElement) {\n        messageElement = document.createElement(\"div\");\n        messageElement.classList.add(\"message-container\");\n        document.getElementById(systemMaintenanceElId).appendChild(messageElement);\n      }\n\n      if (data.MAINTENANCE_MESSAGE) {\n        messageElement.innerHTML = self.escapeHtml(data.MAINTENANCE_MESSAGE);\n        return;\n      }\n\n      if (!data.MAINTENANCE_WINDOW || !data.MAINTENANCE_WINDOW.length) {\n        return;\n      } //use maintenance window specified in config to compose the message, assuming in following example format: [\"2018-11-02T12:00:00Z\", \"2018-11-02T18:00:00Z\"], dates in system ISO format\n\n\n      var hoursDiff = function hoursDiff(d1, d2) {\n        if (!d1 || !d2) {\n          return 0;\n        }\n\n        return Math.floor((d2.getTime() - d1.getTime()) / (1000 * 60 * 60) % 24);\n      }; //date object automatically convert iso date/time to local date/time as it assumes a timezone of UTC if date in ISO format\n\n\n      var startDate = new Date(data.MAINTENANCE_WINDOW[0]),\n          endDate = new Date(data.MAINTENANCE_WINDOW[1]);\n      var hoursTil = hoursDiff(new Date(), startDate);\n\n      if (hoursTil < 0 || isNaN(hoursTil)) {\n        //maintenance window has passed\n        document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n        return;\n      }\n      /*global i18next */\n      //construct message based on maintenance window\n\n\n      try {\n        var options = {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n          hour: \"numeric\",\n          minute: \"numeric\",\n          second: \"numeric\",\n          hour12: true,\n          timeZoneName: \"short\"\n        };\n        var displayStartDate = startDate.toLocaleString(locale, options).replace(/[,]/g, \" \"); //display language-sensitive representation of date/time\n\n        var displayEndDate = endDate.toLocaleString(locale, options).replace(/[,]/g, \" \");\n        var message = [\"<div>\" + i18next.t(\"Hi there.\") + \"</div>\", \"<div>\" + i18next.t(\"TrueNTH will be down for website maintenance starting <b>{startdate}</b>. This should last until <b>{enddate}</b>.\".replace(\"{startdate}\", displayStartDate).replace(\"{enddate}\", displayEndDate)) + \"</div>\", \"<div>\" + i18next.t(\"Thanks for your patience while we upgrade our site.\") + \"</div>\"].join(\"\");\n        messageElement.innerHTML = self.escapeHtml(message);\n      } catch (e) {\n        console.log(\"Error occurred converting system outage date/time \", e);\n        /*eslint no-console:off */\n\n        document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n      }\n    });\n  };\n\n  return new UtilityObj();\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Utility);\nvar getExportFileName = Utility.getExportFileName;\n/* expose common functions */\n\nvar getUrlParameter = Utility.getUrlParameter;\n\n//# sourceURL=webpack:///./static/js/src/modules/Utility.js?");

/***/ })

/******/ });
//# sourceMappingURL=../../maps/main.bundle.js.map