{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/src/modules/Utility.js","webpack:///./static/js/src/modules/Global.js","webpack:///./static/js/src/main.js","webpack:///./static/js/src/modules/I18nextConfig.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","getExportFileName","getUrlParameter","UtilityObj","Utility","this","requestAttempts","hasValue","val","String","showMain","$","css","visibility","-ms-filter","filter","-moz-opacity","-khtml-opacity","opacity","hideLoader","delay","time","hide","setTimeout","fadeOut","loader","show","document","getElementById","isDelayLoading","self","DELAY_LOADING","isTouchDevice","window","DocumentTouch","getIEVersion","match","navigator","userAgent","parseInt","newHttpRequest","url","params","callBack","xmlhttp","param","XDomainRequest","onload","responseText","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","error","open","setRequestHeader","cache","send","ajaxRequest","callback","i18next","defaults","type","contentType","timeout","extend","uself","ajax","done","data","fail","always","initWorker","callbackFunc","worker","Worker","postMessage","addEventListener","e","terminate","console","log","lineno","filename","message","workerAllowed","getRequestMethod","sendRequest","useWorker","LRKeyEvent","length","on","keyCode","toggleClass","getLoaderHTML","concat","convertToNumericField","field","each","prop","isString","obj","toString","disableHeaderFooterLinks","links","not","addClass","off","preventDefault","pad","isNaN","escapeHtml","text","replace","a","\"","&","'","/","<",">","containHtmlTags","test","prefix","Date","getDate","slice","getMonth","getFullYear","capitalize","str","txt","charAt","toUpperCase","substr","toLowerCase","restoreVis","loadingElement","mainElement","setAttribute","VueErrorHandling","Vue","config","errorHandler","err","vm","info","handler","current","$options","$parent","extension","results","RegExp","exec","location","search","decodeURIComponent","resetBrowserBackHistory","locationUrl","stateObject","title","historyDefined","history","pushState","href","forward","handlePostLogout","sessionStorage","getItem","orgin","removeItem","displaySystemOutageMessage","locale","MAINTENANCE_MESSAGE","MAINTENANCE_WINDOW","messageElement","querySelector","createElement","classList","add","appendChild","innerHTML","d1","d2","startDate","endDate","hoursTil","Math","floor","getTime","options","year","month","day","hour","minute","second","hour12","timeZoneName","displayStartDate","toLocaleString","displayEndDate","join","Global","init","registerModules","setCustomJQueryEvents","checkJQuery","jQuery","consolePolyFill","portalModules","handleClientInterventionForm","popover","html","content","onPageDidLoad","userSetLang","showAlert","handleNumericFields","LREditElement","appendLREditContainer","getAttribute","prePopulateEmail","beforeSendAjax","unloadEvent","footer","loginAs","initValidator","requestEmail","emailField","handleDisableLinks","ajaxSetup","beforeSend","xhr","settings","crossDomain","modal","showLoader","embedPortalWrapperContent","initPortalWrapper","PORTAL_NAV_PAGE","event","stopImmediatePropagation","handleLogout","getNotification","notifications","clearSessionLocale","getUserLocale","clear","setItem","localeSessionKey","target","append","sessionKey","sessionLocale","sessionLocaleElement","userSessionLocale","async","userId","id","communication","forEach","item","language","coding","code","getCopyrightYear","stCopyRight","configSuffix","logoLinks","trim","attr","removeAttr","userLocale","footerElements","copyright_year","COPYRIGHT_YEAR","getContent","country_code","split","getJSON","deleteNotification","notificationId","arrNotification","grep","notification","find","setNotificationsDisplay","arrNotificationText","map","notice","stopPropagation","parentElement","closest","removeClass","allVisited","__winHeight","height","fn","isOnScreen","viewport","top","scrollTop","bottom","bounds","offset","outerHeight","sortOptions","selectOptions","sort","b","noop","start","end","methods","assert","trace","count","timeStamp","msIsIndependentlyComposed","debug","warn","dir","dirxml","markTimeline","group","groupCollapsed","groupEnd","profile","profileEnd","timeEnd","method","validator","custom","birthday","y","goodDate","errorMsg","customemail","$el","emailVal","update","trigger","emailReg","addUserId","encodeURIComponent","max_attempts","unique","parents","htmltags","invalid","errors","disable","__i18next","lng","alert","ready","protocol","host","getQueryString","localStorage","source","loadPath","defaultOptions","fallbackLng","preload","defaultNS","initImmediate","keySeparator","nsSeparator","load","returnEmptyString","returnNull","saveMissing","missingKeyHandler","parseMissingKeyHandler","sessionData","JSON","parse","backend","x","sessionItemKey","_typeof","addQueryString","queryStringParams","withCredentials","overrideMimeType","h","customHeaders","stringify","debugi18next","configOptions","use","i18nextXHRBackend"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n","var Utility = (function() {\n    var UtilityObj = function() { /*global $ */\n        this.requestAttempts = 0;\n    };\n    UtilityObj.prototype.hasValue = function(val) {\n        return String(val) !== \"null\" && String(val) !== \"\" && String(val) !== \"undefined\";\n    };\n    UtilityObj.prototype.showMain = function() {\n        $(\"#mainHolder\").css({\n            \"visibility\": \"visible\",\n            \"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"alpha(opacity=100)\",\n            \"-moz-opacity\": 1,\n            \"-khtml-opacity\": 1,\n            \"opacity\": 1\n        });\n    };\n    UtilityObj.prototype.hideLoader = function(delay, time) {\n        if (delay) {\n            $(\"#loadingIndicator\").hide();\n            return;\n        }\n        setTimeout(function() {\n            $(\"#loadingIndicator\").fadeOut();\n        }, time || 200);\n    };\n    UtilityObj.prototype.loader = function(show) {\n        //landing page\n        if (document.getElementById(\"fullSizeContainer\")) {\n            this.hideLoader();\n            this.showMain();\n            return false;\n        }\n        if (show) {\n            $(\"#loadingIndicator\").show();\n            return;\n        }\n        if (!this.isDelayLoading()) {\n            var self = this;\n            setTimeout(function() {\n                self.showMain();\n            }, 100);\n            this.hideLoader(true, 350);\n        }\n    };\n    UtilityObj.prototype.isDelayLoading = function() { /*global DELAY_LOADING*/\n        return (typeof DELAY_LOADING !== \"undefined\") && DELAY_LOADING;\n    };\n    UtilityObj.prototype.isTouchDevice = function() {\n        return true === (\"ontouchstart\" in window || window.DocumentTouch && document instanceof window.DocumentTouch);\n    };\n    UtilityObj.prototype.getIEVersion = function() {\n        var match = navigator.userAgent.match(/(?:MSIE |Trident\\/.*; rv:)(\\d+)/);\n        return match ? parseInt(match[1]) : false;\n    };\n    UtilityObj.prototype.newHttpRequest = function(url, params, callBack) { /* note: this function supports older version of IE (version <= 9) - jquery ajax calls errored in older IE version*/\n        this.requestAttempts++;\n        var xmlhttp, self = this;\n        callBack = callBack || function() {};\n        if (window.XDomainRequest) { /*global XDomainRequest */\n            xmlhttp = new XDomainRequest();\n            xmlhttp.onload = function() {\n                callBack(xmlhttp.responseText);\n            };\n        } else if (window.XMLHttpRequest) {\n            xmlhttp = new XMLHttpRequest();\n        } else {\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); /*global ActiveXObject */\n        }\n        xmlhttp.onreadystatechange = function() {\n            if (xmlhttp.readyState === 4) {\n                if (xmlhttp.status === 200) {\n                    callBack(xmlhttp.responseText);\n                    self.requestAttempts = 0;\n                    return;\n                }\n                if (self.requestAttempts < 3) {\n                    setTimeout(function() {\n                        self.newHttpRequest(url, params, callBack);\n                    }, 3000);\n                } else {\n                    callBack({error: xmlhttp.responseText});\n                    self.loader();\n                    self.requestAttempts = 0;\n                }\n            }\n        };\n        params = params || {};\n        xmlhttp.open(\"GET\", url, true);\n        for (var param in params) {\n            if (params.hasOwnProperty(param)) {\n                xmlhttp.setRequestHeader(param, params[param]);\n            }\n        }\n        if (!params.cache) {\n            xmlhttp.setRequestHeader(\"cache-control\", \"no-cache\");\n            xmlhttp.setRequestHeader(\"expires\", \"-1\");\n            xmlhttp.setRequestHeader(\"pragma\", \"no-cache\"); //legacy HTTP 1.0 servers and IE support\n        }\n        xmlhttp.send();\n    };\n    UtilityObj.prototype.ajaxRequest = function(url, params, callback) {\n        callback = callback || function() {};\n        if (!url) {\n            callback({error: i18next.t(\"Url is required.\")});\n            return false;\n        }\n        var defaults = {\n            url: url,\n            type: \"GET\",\n            contentType: \"text/plain\",\n            timeout: 5000,\n            cache: false\n        };\n        params = params || defaults;\n        params = $.extend({}, defaults, params);\n        this.requestAttempts++;\n        var uself = this;\n        $.ajax(params).done(function(data) {\n            callback(data);\n            uself.requestAttempts = 0;\n        }).fail(function() {\n            if (uself.requestAttempts <= 3) {\n                setTimeout(function() { uself.ajaxRequest(url, params, callback);}, 3000);\n            } else {\n                callback({error: i18next.t(\"Error occurred processing request\")}); /*global i18next */\n                uself.requestAttempts = 0;\n                uself.loader();\n            }\n        }).always(function() {\n            uself.loader();\n        });\n    };\n    UtilityObj.prototype.initWorker = function(url, params, callbackFunc) {\n        var worker = new Worker(\"/static/js/ajaxWorker.js\");\n        var self = this;\n        worker.postMessage({url: url, params: params});\n        worker.addEventListener(\"message\", function(e) {\n            (callbackFunc).call(self, e.data);\n            worker.terminate();\n        }, false);\n        worker.addEventListener(\"error\", function(e) {\n            console.log(\"Worker runtime error: Line \", e.lineno, \" in \", e.filename, \": \", e.message);\n            worker.terminate();\n        }, false);\n    };\n    UtilityObj.prototype.workerAllowed = function() {\n        return window.Worker && !this.isTouchDevice();\n    };\n    UtilityObj.prototype.getRequestMethod = function() {\n        return this.getIEVersion() ? this.newHttpRequest: this.ajaxRequest; //NOTE JQuery ajax request does not work for IE <= 9\n    };\n    UtilityObj.prototype.sendRequest = function(url, params, callback) { /*generic function for sending GET ajax request, make use of worker if possible */\n        params = params || {};\n        if (params.useWorker && this.workerAllowed()) {\n            this.initWorker(url, params, callback);\n            return true;\n        }\n        var useFunc = this.getRequestMethod();\n        (useFunc).call(this, url, params, function(data) { (callback).call(this, data);});\n    };\n    UtilityObj.prototype.LRKeyEvent = function() {\n        var LR_INVOKE_KEYCODE = 187;\n        if ($(\".button--LR\").length > 0) {\n            $(\"html\").on(\"keydown\", function(e) {\n                if (parseInt(e.keyCode) === parseInt(LR_INVOKE_KEYCODE)) {\n                    $(\".button--LR\").toggleClass(\"data-show\");\n                }\n            });\n        }\n    };\n    UtilityObj.prototype.getLoaderHTML = function(message) {\n        return `<div class=\"loading-message-indicator\"><i class=\"fa fa-spinner fa-spin fa-2x\"></i>${message ? \"&nbsp;\" + message : \"\"}</div>`;\n    };\n    UtilityObj.prototype.convertToNumericField = function(field) {\n        if (!field) {\n            return;\n        }\n        if (this.isTouchDevice()) {\n            field.each(function() {\n                $(this).prop(\"type\", \"tel\");\n            });\n        }\n    };\n    UtilityObj.prototype.isString = function(obj) {\n        return (Object.prototype.toString.call(obj) === \"[object String]\");\n    };\n    UtilityObj.prototype.disableHeaderFooterLinks = function() {\n        var links = $(\"#tnthNavWrapper a, #homeFooter a\").not(\"a[href*='logout']\").not(\"a.required-link\").not(\"a.home-link\");\n        links.addClass(\"disabled\");\n        links.prop(\"onclick\", null).off(\"click\");\n        links.on(\"click\", function(e) {\n            e.preventDefault();\n            return false;\n        });\n    };\n    UtilityObj.prototype.pad = function(n) {\n        n = parseInt(n);\n        return (!isNaN(n) && n < 10) ? \"0\" + n : n;\n    };\n    UtilityObj.prototype.escapeHtml = function(text) {\n        \"use strict\";\n        if (text === null || text !== \"undefined\" || String(text).length === 0) {\n            return text;\n        }\n        return text.replace(/[\\\"&'\\/<>]/g, function(a) {\n            return {\n                '\"': \"&quot;\",\n                \"&\": \"&amp;\",\n                \"'\": \"&#39;\",\n                \"/\": \"&#47;\",\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\"\n            }[a];\n        });\n    };\n    UtilityObj.prototype.containHtmlTags = function(text) {\n        if (!text) {\n            return false;\n        }\n        return /[<>]/.test(text);\n    };\n    UtilityObj.prototype.getExportFileName = function(prefix) {\n        var d = new Date();\n        return (prefix ? prefix : \"ExportList_\") + (\"00\" + d.getDate()).slice(-2) + (\"00\" + (d.getMonth() + 1)).slice(-2) + d.getFullYear();\n    };\n    UtilityObj.prototype.capitalize = function(str) {\n        return str.replace(/\\w\\S*/g, function(txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        });\n    };\n    UtilityObj.prototype.restoreVis = function() {\n        var loadingElement = document.getElementById(\"loadingIndicator\"), mainElement = document.getElementById(\"mainHolder\");\n        if (loadingElement) { loadingElement.setAttribute(\"style\", \"display:none; visibility:hidden;\"); }\n        if (mainElement) { mainElement.setAttribute(\"style\", \"visibility:visible;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';filter:alpha(opacity=100); -moz-opacity:1; -khtml-opacity:1; opacity:1\"); }\n    };\n    UtilityObj.prototype.VueErrorHandling = function() {\n        if (typeof Vue === \"undefined\") { return false; } /*global Vue */\n        var self = this;\n        Vue.config.errorHandler = function (err, vm, info)  {\n            var handler, current = vm;\n            if (vm.$options.errorHandler) {\n                handler = vm.$options.errorHandler;\n            } else {\n                while (!handler && current.$parent) {\n                    current = current.$parent;\n                    handler = current.$options.errorHandler;\n                }\n            }\n            self.restoreVis();\n            if (handler) {\n                handler.call(current, err, vm, info);\n                return;\n            }\n            console.log(err);\n        };\n    };\n    UtilityObj.prototype.extend = function(obj, extension) { // Extend an object with an extension\n        for (var key in extension) {\n            if (extension.hasOwnProperty(key)) {\n                obj[key] = extension[key];\n            }\n        }\n        return obj;\n    };\n    UtilityObj.prototype.getUrlParameter = function(name) {\n        name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n        var results = regex.exec(location.search);\n        return results === null ? \"\" : decodeURIComponent(results[1]);\n    };\n    UtilityObj.prototype.resetBrowserBackHistory = function(locationUrl, stateObject, title) {\n        var historyDefined = typeof history !== \"undefined\" && history.pushState;\n        locationUrl = locationUrl || location.href;\n        if (historyDefined) {\n            history.pushState(stateObject, title, locationUrl);\n        }\n        window.addEventListener(\"popstate\", function() {\n            if (historyDefined) {\n                history.pushState(stateObject, title, locationUrl);\n            } else {\n                window.history.forward(1);\n            }\n        });\n    };\n    UtilityObj.prototype.handlePostLogout = function() {\n        if (typeof sessionStorage === \"undefined\") {\n            return false;\n        }\n        if (sessionStorage.getItem(\"logout\")) {\n            this.resetBrowserBackHistory(location.orgin, \"logout\"); /* global resetBrowserBackHistory */\n            sessionStorage.removeItem(\"logout\");\n        }\n    };\n    UtilityObj.prototype.displaySystemOutageMessage = function(locale) {\n        locale = locale || \"en-us\";\n        locale = locale.replace(\"_\", \"-\");\n        var systemMaintenanceElId = \"systemMaintenanceContainer\";\n        if (!document.getElementById(systemMaintenanceElId)) { //check for system outage maintenance message element\n            return;\n        }\n        var self = this;\n        this.ajaxRequest(\"api/settings\", {contentType: \"application/json; charset=utf-8\"}, function(data) {\n            if (!data || !(data.MAINTENANCE_MESSAGE || data.MAINTENANCE_WINDOW)) {\n                return false;\n            }\n            var messageElement = document.querySelector(\".message-container\");\n            if (!messageElement) {\n                messageElement = document.createElement(\"div\");\n                messageElement.classList.add(\"message-container\");\n                document.getElementById(systemMaintenanceElId).appendChild(messageElement);\n            }\n            if (data.MAINTENANCE_MESSAGE) {\n                messageElement.innerHTML = self.escapeHtml(data.MAINTENANCE_MESSAGE);\n                return;\n            }\n            if (!data.MAINTENANCE_WINDOW || !data.MAINTENANCE_WINDOW.length) {\n                return;\n            }\n            //use maintenance window specified in config to compose the message, assuming in following example format: [\"2018-11-02T12:00:00Z\", \"2018-11-02T18:00:00Z\"], dates in system ISO format\n            var hoursDiff = function(d1, d2) {\n                if (!d1 || !d2) {\n                    return 0;\n                }\n                return Math.floor(((d2.getTime() - d1.getTime())/ (1000 * 60 * 60)) % 24);\n            };\n            //date object automatically convert iso date/time to local date/time as it assumes a timezone of UTC if date in ISO format\n            var startDate = new Date(data.MAINTENANCE_WINDOW[0]), endDate = new Date(data.MAINTENANCE_WINDOW[1]);\n            var hoursTil = hoursDiff(new Date(), startDate);\n            if (hoursTil < 0 || isNaN(hoursTil)) { //maintenance window has passed\n                document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n                return;\n            }\n            /*global i18next */\n            //construct message based on maintenance window\n            try {\n                var options = {year: \"numeric\", month: \"long\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\", second: \"numeric\", hour12: true, timeZoneName: \"short\"};\n                var displayStartDate = startDate.toLocaleString(locale,options).replace(/[,]/g, \" \"); //display language-sensitive representation of date/time\n                var displayEndDate = endDate.toLocaleString(locale, options).replace(/[,]/g, \" \");\n                var message = [\"<div>\" + i18next.t(\"Hi there.\") + \"</div>\",\n                    \"<div>\" + i18next.t(\"TrueNTH will be down for website maintenance starting <b>{startdate}</b>. This should last until <b>{enddate}</b>.\".replace(\"{startdate}\", displayStartDate).replace(\"{enddate}\", displayEndDate)) + \"</div>\",\n                    \"<div>\" + i18next.t(\"Thanks for your patience while we upgrade our site.\") + \"</div>\"].join(\"\");\n                messageElement.innerHTML = self.escapeHtml(message);\n            } catch(e) {\n                console.log(\"Error occurred converting system outage date/time \", e); /*eslint no-console:off */\n                document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n            }\n        });\n    };\n    return new UtilityObj();\n})();\nexport default Utility;\nexport var getExportFileName = Utility.getExportFileName; /* expose common functions */\nexport var getUrlParameter= Utility.getUrlParameter;\n","import Utility from \"./Utility.js\";\nexport default { /*global $ i18next */ /*initializing functions performed only once on page load */\n    \"init\": function(){\n        this.registerModules();\n        this.setCustomJQueryEvents(this.checkJQuery()?(jQuery||$): null); /*global jQuery*/\n        this.consolePolyFill();\n    },\n    \"registerModules\": function() {\n        if (typeof i18next === \"undefined\") { i18next = {t: function(key) { return key; }}; } //fallback for i18next in older browser?\n        if (!window.portalModules) {\n            window.portalModules = {};\n        }\n        if (typeof i18next !== \"undefined\") {\n            window.portalModules.i18next = i18next;\n        }\n        window.portalModules.Global = this;\n    },\n    \"checkJQuery\": function() {\n        if (typeof jQuery === \"undefined\") {\n            this.restoreVis();\n            return false;\n        }\n        return true;\n    },\n    \"handlePostLogout\": function() {\n        if (document.querySelector(\"body.landing\")) {\n            Utility.handlePostLogout(); /*global Utility handlePostLogout */\n        }\n    },\n    \"handleClientInterventionForm\": function() {\n        if (document.querySelector(\"#clientAppForm\")) {\n            $(\"#confirmDel\").popover({\n                html : true, //internal use, so no need to translate here?\n                content: \"Are you sure you want to delete this app?<br /><br /><button type='submit' name='delete' value='delete' class='btn-tnth-primary btn'>Delete Now</button> &nbsp; <div class='btn btn-default' id='cancelDel'>Cancel</div>\"\n            });\n            $(\"body\").on(\"click\",\"#cancelDel\",function(){\n                $(\"#confirmDel\").popover(\"hide\");\n            });\n        }\n    },\n    \"onPageDidLoad\": function(userSetLang) {\n        //note: display system outage message only after i18next has been instantiated - allowing message to be translated\n        Utility.displaySystemOutageMessage(userSetLang); /*global displaySystemOutageMessage */\n        this.handlePostLogout();\n        this.showAlert();\n        this.handleNumericFields();\n        var LREditElement = document.getElementById(\"LREditUrl\");\n        if (LREditElement) {\n            this.appendLREditContainer(document.querySelector(\"#mainHolder .LREditContainer\"), LREditElement.value, LREditElement.getAttribute(\"data-show\"));\n        }\n        this.prePopulateEmail();\n        this.beforeSendAjax();\n        this.unloadEvent();\n        this.footer();\n        this.loginAs();\n        this.initValidator();\n        this.handleClientInterventionForm();\n    },\n    \"prePopulateEmail\": function() {\n        var requestEmail =  Utility.getUrlParameter(\"email\"), emailField = document.querySelector(\"#email\");\n        if (requestEmail && emailField) { /*global Utility getUrlParameter */\n            emailField.value = requestEmail;\n        }\n    },\n    \"handleDisableLinks\": function() {\n        if (Utility.getUrlParameter(\"disableLinks\")) {\n            Utility.disableHeaderFooterLinks();\n        }\n    },\n    \"beforeSendAjax\": function() {\n        $.ajaxSetup({\n            beforeSend: function(xhr, settings) {\n                if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {\n                    xhr.setRequestHeader(\"X-CSRFToken\", $(\"#__CRSF_TOKEN\").val());\n                }\n            }\n        });\n    },\n    \"showAlert\": function() {\n        if ($(\"#alertModal\").length > 0) {  $(\"#alertModal\").modal(\"show\");}\n    },\n    \"restoreVis\": function() {\n        var loadingElement = document.getElementById(\"loadingIndicator\"), mainElement = document.getElementById(\"mainHolder\");\n        if (loadingElement) { loadingElement.setAttribute(\"style\", \"display:none; visibility:hidden;\"); }\n        if (mainElement) { mainElement.setAttribute(\"style\", \"visibility:visible;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';filter:alpha(opacity=100); -moz-opacity:1; -khtml-opacity:1; opacity:1\"); }\n    },\n    \"showLoader\": function() {\n        document.querySelector(\"#loadingIndicator\").setAttribute(\"style\", \"display:block; visibility:visible;\");\n    },\n    \"embedPortalWrapperContent\": function(data) {\n        if (data && !data.error) {\n            $(\"#mainNav\").html(data);\n        }\n    },\n    \"initPortalWrapper\": function(PORTAL_NAV_PAGE, callback) {\n        var self = this;\n        callback = callback || function() {};\n        this.showLoader();\n        Utility.sendRequest(PORTAL_NAV_PAGE, {cache: false}, function(data) { /*global sendRequest */\n            if (!data || data.error) {\n                document.querySelector(\"#mainNavLoadingError\").innerHTML = i18next.t(\"Error loading portal wrapper\");\n                self.restoreVis();\n                callback();\n                return false;\n            }\n            self.embedPortalWrapperContent(data);\n            setTimeout(function() {\n                self.restoreVis();\n                $(\"#tnthNavWrapper .logout\").on(\"click\", function(event) {\n                    event.stopImmediatePropagation();\n                    self.handleLogout();\n                });\n                self.handleDisableLinks();\n            }, 150);\n            self.getNotification(function(data) { //ajax to get notifications information\n                self.notifications(data);\n            });\n            callback();\n        });\n    },\n    \"loginAs\": function() {\n        var LOGIN_AS_PATIENT = (typeof sessionStorage !== \"undefined\") ? sessionStorage.getItem(\"loginAsPatient\") : null;\n        if (!LOGIN_AS_PATIENT) { return false; }\n        this.clearSessionLocale();\n        this.getUserLocale(); //need to clear current user locale in session storage when logging in as patient\n        Utility.resetBrowserBackHistory(); /*global resetBrowserBackHistory */\n    },\n    \"handleLogout\": function() {\n        sessionStorage.clear();\n        sessionStorage.setItem(\"logout\", \"true\"); //set session storage logout indicator\n    },\n    \"unloadEvent\": function() {\n        var self = this;\n        $(window).on(\"beforeunload\", function() {\n            if (Utility.getUrlParameter(\"logout\")) { //taking into consideration that user may type in logout in url\n                self.handleLogout();\n            }\n        });\n    },\n    \"localeSessionKey\": \"currentUserLocale\",\n    \"clearSessionLocale\": function() {\n        sessionStorage.removeItem(this.localeSessionKey);\n    },\n    \"appendLREditContainer\": function(target, url, show) { /*global i18next */\n        if (!url) { return false; }\n        if (!target) { return false; }\n        $(target).append(`<div><button class=\"btn btn-default button--LR\"><a href=\"${url}\" target=\"_blank\">${i18next.t(\"Edit in Liferay\")}</a></button></div>`);\n        if (String(show).toLowerCase() === \"true\") { $(\".button--LR\").addClass(\"data-show\");}\n        else {\n            $(\".button--LR\").addClass(\"tnth-hide\");\n        }\n    },\n    \"getUserLocale\": function() {\n        var sessionKey = this.localeSessionKey;\n        var sessionLocale = sessionStorage.getItem(sessionKey);\n        var sessionLocaleElement = document.querySelector(\"#userSessionLocale\");\n        var userSessionLocale = sessionLocaleElement ? sessionLocaleElement.value: \"\";\n        if (userSessionLocale) {\n            //note this is a template variable whose value is set at the backend.  Note, it will set to EN_US pre-authentication, cannot set sessionStorage here as it will be incorrect\n            sessionStorage.setItem(sessionKey, userSessionLocale);\n            return userSessionLocale;\n        }\n        if (sessionLocale) {\n            return sessionLocale;\n        }\n        if (!this.checkJQuery()) {\n            return false;\n        }\n        var locale = \"en_us\";\n        $.ajax({\n            type: \"GET\",\n            url: \"/api/me\",\n            async: false\n        }).done(function(data) {\n            var userId = \"\";\n            if (data) { userId = data.id; }\n            if (!userId) {\n                locale = \"en_us\";\n                return false;\n            }\n            $.ajax({\n                type: \"GET\",\n                url: \"/api/demographics/\" + userId, //dont use tnthAjax method - don't want to report error here if failed\n                async: false\n            }).done(function(data) {\n                if (!data || !data.communication) {\n                    locale = \"en_us\";\n                    return false;\n                }\n                data.communication.forEach(function(item) {\n                    if (item.language) {\n                        locale = item.language.coding[0].code;\n                        sessionStorage.setItem(sessionKey, locale);\n                    }\n                });\n            });\n        }).fail(function() {});\n        return locale;\n    },\n    \"getCopyrightYear\": function(callback) {\n        callback = callback || function() {};\n        var configSuffix = \"COPYRIGHT_YEAR\";\n        var stCopyRight = sessionStorage.getItem(\"config_\"+configSuffix);\n        if (stCopyRight) {\n            callback({configSuffix : stCopyRight});\n            return;\n        }\n        Utility.sendRequest(\"api/settings/\"+configSuffix,false, function(data) {\n            if (data && data.hasOwnProperty(configSuffix)) {\n                sessionStorage.setItem(\"config_\"+configSuffix, data[configSuffix]);\n            }\n            callback(data);\n        });\n    },\n    \"footer\": function() {\n        var self = this, logoLinks = $(\"#homeFooter .logo-link\");\n        if (logoLinks.length > 0) {\n            logoLinks.each(function() {\n                if (!$.trim($(this).attr(\"href\"))) {\n                    $(this).removeAttr(\"target\");\n                    $(this).on(\"click\", function(e) {\n                        e.preventDefault();\n                        return false;\n                    });\n                }\n            });\n        }\n        setTimeout(function() { //Reveal footer after load to avoid any flashes will above content loads\n            $(\"#homeFooter\").show();\n        }, 100);\n\n        setTimeout(function() {\n            var userLocale = self.getUserLocale(), footerElements = $(\"#homeFooter .copyright\");\n            var copyright_year = new Date().getFullYear();\n            self.getCopyrightYear(function(data) {\n                if (data && data.COPYRIGHT_YEAR) {\n                    copyright_year = data.COPYRIGHT_YEAR;\n                }\n                var getContent = (country_code, copyright_year) => {\n                    var content = \"\"; //need to set this on callback as the call is asynchronous - otherwise the copyright value can be set before config value is returned\n                    switch (String(country_code.toUpperCase())) {\n                    case \"US\":\n                        content = i18next.t(`&copy; ${copyright_year} Movember Foundation. All rights reserved. A registered 501(c)3 non-profit organization (Movember Foundation).`);\n                        break;\n                    case \"AU\":\n                        content = i18next.t(`&copy; ${copyright_year} Movember Foundation. All rights reserved. Movember Foundation is a registered charity in Australia ABN 48894537905 (Movember Foundation).`);\n                        break;\n                    case \"NZ\":\n                        content = i18next.t(`&copy; ${copyright_year} Movember Foundation. All rights reserved. Movember Foundation is a New Zealand registered charity number CC51320 (Movember Foundation).`);\n                        break;\n                    default:\n                        content = i18next.t(`&copy; ${copyright_year} Movember Foundation (Movember Foundation). All rights reserved.`);\n                    }\n                    return content;\n                };\n                // todo: properly decouple country/locale\n                var country_code = userLocale.split(\"_\")[1];\n                if (userLocale.toUpperCase() !== \"EN_US\"){ // shortcut - infer country from locale if locale isn't default (en_us)\n                    footerElements.html(getContent(country_code, copyright_year));\n                } else {\n                    $.getJSON(\"//geoip.cirg.washington.edu/json/\", function(data) {\n                        //country code Australia AU New Zealand NZ USA US\n                        if (data && data.country_code) {\n                            footerElements.html(getContent(data.country_code, copyright_year));\n                        } else {\n                            footerElements.html(getContent(country_code, copyright_year));\n                        }\n                    });\n                }\n            });\n        }, 500);\n    },\n    \"getNotification\": function(callback) {\n        var userId = $(\"#notificationUserId\").val();\n        callback = callback || function() {};\n        if (!userId) {\n            callback({\"error\": i18next.t(\"User id is required\")});\n            return false;\n        }\n        $.ajax({\n            type:\"GET\",\n            url: \"/api/user/\"+userId+\"/notification\"\n        }).done(function(data) {\n            if (data) {\n                callback(data);\n            } else {\n                callback({\"error\": i18next.t(\"no data returned\")});\n            }\n        }).fail(function(){\n            callback({\"error\": i18next.t(\"Error occurred retrieving notification.\")});\n        });\n    },\n    \"deleteNotification\": function(userId, notificationId) {\n        if (!userId || parseInt(notificationId) < 0 || !notificationId) {\n            return false;\n        }\n        var self = this;\n        this.getNotification(function(data) {\n            if (!data.notifications || !data.notifications.length) {\n                return;\n            }\n            var arrNotification = $.grep(data.notifications, function(notification) { //check if there is notification for this id -dealing with use case where user deletes same notification in a separate open window\n                return parseInt(notification.id) === parseInt(notificationId);\n            });\n            var userId = $(\"#notificationUserId\").val();\n            if (arrNotification.length) { //delete notification only if it exists\n                $.ajax({\n                    type: \"DELETE\",\n                    url: \"/api/user/\" + userId + \"/notification/\" + notificationId\n                }).done(function() {\n                    $(\"#notification_\" + notificationId).attr(\"data-visited\", true);\n                    $(\"#notification_\" + notificationId).find(\"[data-action-required]\").removeAttr(\"data-action-required\");\n                    self.setNotificationsDisplay();\n                });\n            }\n        });\n    },\n    \"notifications\": function(data) {\n        if (!data || !data.notifications || data.notifications.length === 0) {\n            $(\"#notificationBanner\").hide();\n            return false;\n        }\n        var arrNotificationText = (data.notifications).map(function(notice) {\n            return `<div class=\"notification\" id=\"notification_${notice.id}\" data-id=\"${notice.id}\" data-name=\"${notice.name}\">${notice.content}</div>`;\n        });\n        var self = this;\n        $(\"#notificationBanner .content\").html(arrNotificationText.join(\"\"));\n        $(\"#notificationBanner .notification\").addClass(\"active\");\n        $(\"#notificationBanner\").show();\n        $(\"#notificationBanner [data-id] a\").each(function() {\n            $(this).on(\"click\", function(e) {\n                e.stopPropagation();\n                var parentElement = $(this).closest(\".notification\");\n                parentElement.attr(\"data-visited\", \"true\"); //adding the attribute data-visited will hide the notification entry\n                self.deleteNotification($(\"#notificationUserId\").val(), parentElement.attr(\"data-id\")); //delete relevant notification\n                self.setNotificationsDisplay();\n            });\n        });\n        $(\"#notificationBanner .close\").on(\"click\", function(e) { //closing the banner\n            e.stopPropagation();\n            $(\"#notificationBanner [data-id]\").each(function() {\n                var actionRequired = $(this).find(\"[data-action-required]\").length > 0;\n                if (!actionRequired) {\n                    $(this).attr(\"data-visited\", true);\n                    self.deleteNotification($(\"#notificationUserId\").val(), $(this).attr(\"data-id\"));\n                }\n            });\n            self.setNotificationsDisplay();\n        });\n        self.setNotificationsDisplay();\n    },\n    \"setNotificationsDisplay\": function() {\n        if ($(\"#notificationBanner [data-action-required]\").length > 0) { //requiring user action\n            $(\"#notificationBanner .close\").removeClass(\"active\");\n            return false;\n        }\n        var allVisited = true;\n        $(\"#notificationBanner [data-id]\").each(function() {\n            if (allVisited && !$(this).attr(\"data-visited\")) { //check if all links have been visited\n                allVisited = false;\n                return false;\n            }\n        });\n        if (allVisited) {\n            $(\"#notificationBanner\").hide();\n        } else {\n            $(\"#notificationBanner .close\").addClass(\"active\");\n        }\n    },\n    \"setCustomJQueryEvents\": function($) {\n        if (!$) { return false; }\n        var __winHeight = $(window).height();\n        $.fn.isOnScreen = function() {\n            var viewport = {};\n            viewport.top = $(window).scrollTop();\n            viewport.bottom = viewport.top + __winHeight;\n            var bounds = {};\n            bounds.top = this && this.offset() ? this.offset().top : 0;\n            bounds.bottom = bounds.top + this.outerHeight();\n            return ((bounds.top <= viewport.bottom) && (bounds.bottom >= viewport.top));\n        };\n        $.fn.sortOptions = function() {\n            var selectOptions = $(this).find(\"option\");\n            selectOptions.sort(function(a, b) {\n                if (a.text > b.text) {\n                    return 1;\n                } else if (a.text < b.text) {\n                    return -1;\n                } else {\n                    return 0;\n                }\n            });\n            return selectOptions;\n        };\n    },\n    \"consolePolyFill\": function() {\n        /**\n         * Protect window.console method calls, e.g. console is not defined on IE\n         * unless dev tools are open, and IE doesn't define console.debug\n         */\n        var console = (window.console = window.console || {});\n        var noop = function() {};\n        var log = console.log || noop;\n        var start = function(name) {\n            return function(param) {\n                log(\"Start \" + name + \": \" + param);\n            };\n        };\n        var end = function(name) {\n            return function(param) {\n                log(\"End \" + name + \": \" + param);\n            };\n        };\n        var methods = {\n            // Internet Explorer (IE 10): http://msdn.microsoft.com/en-us/library/ie/hh772169(v=vs.85).aspx#methods\n            // assert(test, message, optionalParams), clear(), count(countTitle), debug(message, optionalParams), dir(value, optionalParams), dirxml(value), error(message, optionalParams), group(groupTitle), groupCollapsed(groupTitle), groupEnd([groupTitle]), info(message, optionalParams), log(message, optionalParams), msIsIndependentlyComposed(oElementNode), profile(reportName), profileEnd(), time(timerName), timeEnd(timerName), trace(), warn(message, optionalParams)\n            // \"assert\", \"clear\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"msIsIndependentlyComposed\", \"profile\", \"profileEnd\", \"time\", \"timeEnd\", \"trace\", \"warn\"\n\n            // Safari (2012. 07. 23.): https://developer.apple.com/library/safari/#documentation/AppleApplications/Conceptual/Safari_Developer_Guide/DebuggingYourWebsite/DebuggingYourWebsite.html#//apple_ref/doc/uid/TP40007874-CH8-SW20\n            // assert(expression, message-object), count([title]), debug([message-object]), dir(object), dirxml(node), error(message-object), group(message-object), groupEnd(), info(message-object), log(message-object), profile([title]), profileEnd([title]), time(name), markTimeline(\"string\"), trace(), warn(message-object)\n            // \"assert\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupEnd\", \"info\", \"log\", \"profile\", \"profileEnd\", \"time\", \"markTimeline\", \"trace\", \"warn\"\n\n            // Firefox (2013. 05. 20.): https://developer.mozilla.org/en-US/docs/Web/API/console\n            // debug(obj1 [, obj2, ..., objN]), debug(msg [, subst1, ..., substN]), dir(object), error(obj1 [, obj2, ..., objN]), error(msg [, subst1, ..., substN]), group(), groupCollapsed(), groupEnd(), info(obj1 [, obj2, ..., objN]), info(msg [, subst1, ..., substN]), log(obj1 [, obj2, ..., objN]), log(msg [, subst1, ..., substN]), time(timerName), timeEnd(timerName), trace(), warn(obj1 [, obj2, ..., objN]), warn(msg [, subst1, ..., substN])\n            // \"debug\", \"dir\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"time\", \"timeEnd\", \"trace\", \"warn\"\n\n            // Chrome (2013. 01. 25.): https://developers.google.com/chrome-developer-tools/docs/console-api\n            // assert(expression, object), clear(), count(label), debug(object [, object, ...]), dir(object), dirxml(object), error(object [, object, ...]), group(object[, object, ...]), groupCollapsed(object[, object, ...]), groupEnd(), info(object [, object, ...]), log(object [, object, ...]), profile([label]), profileEnd(), time(label), timeEnd(label), timeStamp([label]), trace(), warn(object [, object, ...])\n            // \"assert\", \"clear\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\", \"groupCollapsed\", \"groupEnd\", \"info\", \"log\", \"profile\", \"profileEnd\", \"time\", \"timeEnd\", \"timeStamp\", \"trace\", \"warn\"\n            // Chrome (2012. 10. 04.): https://developers.google.com/web-toolkit/speedtracer/logging-api\n            // markTimeline(String)\n            // \"markTimeline\"\n            assert: noop,\n            clear: noop,\n            trace: noop,\n            count: noop,\n            timeStamp: noop,\n            msIsIndependentlyComposed: noop,\n            debug: log,\n            info: log,\n            log: log,\n            warn: log,\n            error: log,\n            dir: log,\n            dirxml: log,\n            markTimeline: log,\n            group: start(\"group\"),\n            groupCollapsed: start(\"groupCollapsed\"),\n            groupEnd: end(\"group\"),\n            profile: start(\"profile\"),\n            profileEnd: end(\"profile\"),\n            time: start(\"time\"),\n            timeEnd: end(\"time\")\n        };\n        for (var method in methods) {\n            if (methods.hasOwnProperty(method) && !(method in console)) { // define undefined methods as best-effort methods\n                console[method] = methods[method];\n            }\n        }\n    },\n    \"handleNumericFields\": function() {\n        //display keyboard for numeric fields on mobile devices\n        if (Utility.isTouchDevice()) {\n            Utility.convertToNumericField($(\"#date, #year\")); /*global Utility convertToNumericField */\n        }\n    },\n    \"initValidator\": function() {\n        if (typeof $.fn.validator === \"undefined\") { return false; }\n        $(\"form.to-validate\").validator({ // To validate a form, add class to <form> and validate by ID.\n            custom: {\n                birthday: function() {\n                    var m = parseInt($(\"#month\").val()), d = parseInt($(\"#date\").val()), y = parseInt($(\"#year\").val());\n                    var goodDate = true, errorMsg = \"\";\n                    // If NaN then the values haven't been entered yet, so we, validate as true until other fields are entered\n                    if (isNaN(y) || (isNaN(d) && isNaN(y))) {\n                        $(\"#errorbirthday\").html(i18next.t(\"All fields must be complete.\")).hide();\n                        goodDate = false;\n                    } else if (isNaN(d)) {\n                        errorMsg = i18next.t(\"Please enter a valid date.\");\n                    } else if (isNaN(m)) {\n                        errorMsg += (errorMsg ? \"<br/>\" : \"\") + i18next.t(\"Please enter a valid month.\");\n                    } else if (isNaN(y)) {\n                        errorMsg += (errorMsg ? \"<br/>\" : \"\") + i18next.t(\"Please enter a valid year.\");\n                    }\n                    if (errorMsg) {\n                        $(\"#errorbirthday\").html(errorMsg).show();\n                        $(\"#birthday\").val(\"\");\n                        goodDate = false;\n                    }\n                    if (goodDate) {\n                        $(\"#errorbirthday\").html(\"\").hide();\n                    }\n                    return goodDate;\n                },\n                customemail: function($el) {\n                    var emailVal = $.trim($el.val());\n                    var update = function($el) {\n                        if ($el.attr(\"data-update-on-validated\") === \"true\" && $el.attr(\"data-user-id\")) {\n                            $el.trigger(\"postEventUpdate\");\n                        }\n                    };\n                    if (emailVal === \"\") {\n                        if (!$el.attr(\"data-optional\")) {\n                            return false;\n                        }\n                        update($el); //if email address is optional, update it as is\n                        return true;\n                    }\n                    var emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                    var addUserId = \"\"; // Add user_id to api call (used on patient_profile page so that staff can edit)\n                    if ($el.attr(\"data-user-id\")) {\n                        addUserId = \"&user_id=\" + $el.attr(\"data-user-id\");\n                    }\n                    if (emailReg.test(emailVal)) {  // If this is a valid address, then use unique_email to check whether it's already in use\n                        var url = \"/api/unique_email?email=\" + encodeURIComponent(emailVal) + addUserId;\n                        Utility.sendRequest(url, {max_attempts:1}, function(data) {\n                            if (data.error) { //note a failed request will be logged\n                                $(\"#erroremail\").html(i18next.t(\"Error occurred when verifying the uniqueness of email\")).parents(\".form-group\").addClass(\"has-error\");\n                                return; //stop proceeding to update email\n                            }\n                            if (data.unique) {\n                                $(\"#erroremail\").html(\"\").parents(\".form-group\").removeClass(\"has-error\");\n                                update($el);\n                                return;\n                            }\n                            $(\"#erroremail\").html(i18next.t(\"This e-mail address is already in use. Please enter a different address.\")).parents(\".form-group\").addClass(\"has-error\");\n                        });\n                    }\n                    return emailReg.test(emailVal);\n                },\n                htmltags: function($el) {\n                    var containHtmlTags = function(text) {\n                        if (!(text)) {return false;}\n                        return /[<>]/.test(text);\n                    };\n                    var invalid = containHtmlTags($el.val());\n                    if (invalid) {\n                        $(\"#error\" + $el.attr(\"id\")).html(\"Invalid characters in text.\");\n                        return false;\n                    }\n                    $(\"#error\" + $el.attr(\"id\")).html(\"\");\n                    return !invalid;\n                }\n            },\n            errors: {\n                htmltags: i18next.t(\"Please remove invalid characters and try again.\"),\n                birthday: i18next.t(\"Sorry, this isn't a valid date. Please try again.\"),\n                customemail: i18next.t(\"This isn't a valid e-mail address, please double-check.\")\n            },\n            disable: false\n        }).off(\"input.bs.validator change.bs.validator\"); // Only check on blur (turn off input)   to turn off change - change.bs.validator\n    }\n};\n\n","/*** Portal specific javascript. Topnav.js is separate and will be used across domains. **/\nimport __i18next from \"./modules/I18nextConfig.js\";\nimport Global from \"./modules/Global.js\";\n/*global __i18next*/\nvar userSetLang = Global.getUserLocale();\n__i18next.init({\"lng\": userSetLang\n}, function() {\n    if (!Global.checkJQuery()) { alert(\"JQuery library necessary for this website was not loaded.  Please refresh your browser and try again.\"); return false; }\n    Global.init();\n    $(document).ready(function() {\n        Global.initPortalWrapper(window.location.protocol + \"//\" + window.location.host + \"/api/portal-wrapper-html/\");\n        Global.onPageDidLoad(userSetLang);\n    });\n});\n\n","/*** wrapper object to initalize i18next ***/\nexport default (function() {\n    function init(options, callback) {\n        var getQueryString = (function(a) {\n            if (String(a) === \"\") { return {}; }\n            var b = {};\n            for (var i = 0; i < a.length; ++i) {\n                var p = a[i].split(\"=\", 2);\n                if (p.length === 1) {\n                    b[p[0]] = \"\";\n                }\n                else {\n                    b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n                }\n            }\n            return b;\n        })(window.location.search.substr(1).split(\"&\"));\n\n        if (typeof window.localStorage !== \"undefined\") {\n            if (window.localStorage.getItem(\"i18nextLng\")) {\n                window.localStorage.removeItem(\"i18nextLng\");\n            }\n        }\n        var source = options.loadPath || \"/static/files/locales/{{lng}}/translation.json\"; //consuming translation json from each corresponding locale\n        var defaultOptions = {\n            fallbackLng: \"en-US\",\n            lng: \"en-US\",\n            preload: false,\n            debug: false,\n            defaultNS: \"translation\",\n            initImmediate: false,\n            keySeparator: \"----\",\n            nsSeparator: \"----\",\n            load: \"currentOnly\",\n            returnEmptyString: false,\n            returnNull: false,\n            saveMissing: false,\n            missingKeyHandler: false,\n            parseMissingKeyHandler: function(key) { //allow lookup for translated text for missing key\n                var sessionData = sessionStorage.getItem(\"i18nextData_\" + this.lng);\n                if (!sessionData) {\n                    return key;\n                }\n                try {\n                    var data = JSON.parse(sessionData);\n\n                    if (data && data.hasOwnProperty(key)) {\n                        return data[key];\n                    }\n                } catch (e) {\n                    return key;\n                }\n                return key;\n            },\n            backend: {\n                // load from static file\n                language: options.lng,\n                loadPath: source,\n                ajax: function(url, options, callback, data, cache) {\n                    /*\n                     * default code from i18nextBackend.js, but modify it to allow sync loading of resources and add session storage\n                     */\n                    callback = callback || function() {};\n                    var sessionItemKey = \"i18nextData_\" + options.language;\n                    if (data && (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) === \"object\") { /*global _typeof */\n                        if (!cache) { data[\"_t\"] = new Date();}\n                        // URL encoded form data must be in querystring format\n                        data = addQueryString(\"\", data).slice(1); /* global addQueryString */\n                    }\n                    if (options.queryStringParams) {\n                        url = addQueryString(url, options.queryStringParams); /* global addQueryString */\n                    }\n                    var x;\n                    if (XMLHttpRequest) {\n                        x = new XMLHttpRequest();\n                    } else {\n                        x = new ActiveXObject(\"MSXML2.XMLHTTP.3.0\"); /*global ActiveXObject */\n                    }\n                    try {\n                        //use sync\n                        x.open(data ? \"POST\" : \"GET\", url, 0);\n                        if (!options.crossDomain) {\n                            x.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        }\n                        x.withCredentials = !!options.withCredentials;\n                        if (data) {\n                            x.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                        }\n                        if (x.overrideMimeType) {\n                            x.overrideMimeType(\"application/json\");\n                        }\n                        var h = options.customHeaders;\n                        if (h) {\n                            for (var i in h) {\n                                if (h.hasOwnProperty(i)) {\n                                    x.setRequestHeader(i, h[i]);\n                                }\n                            }\n                        }\n                        x.onreadystatechange = function() {\n                            if (x.readyState > 3) {\n                                callback(x.responseText, x);\n                                if (x.responseText && !sessionStorage.getItem(sessionItemKey)) {\n                                    sessionStorage.setItem(sessionItemKey, JSON.stringify(x.responseText));\n                                }\n                            }\n                        };\n                        x.send(data);\n                    } catch (e) {\n                        if (console) { console.log(e); }/*global console */\n                    }\n                }\n            }\n        };\n        options = options || defaultOptions;\n        if (options.lng) {\n            options.lng = options.lng.replace(\"_\", \"-\");\n        }\n        options.debug = options.debug ? options.debug : (getQueryString.debugi18next ? true : false);\n        var configOptions = defaultOptions;\n        for (var key in options) {\n            if (defaultOptions.hasOwnProperty(key)) {\n                defaultOptions[key] = options[key];\n            }\n        }\n        var sessionItemKey = \"i18nextData_\" + options.language;\n        callback = callback || function() {};\n        if (typeof i18next === \"undefined\") { //i18next js libraries raises runtime error in <= IE8 \n            callback();\n            return false;\n        }\n        if (String(options.lng).toLowerCase() === \"en-us\" || sessionStorage.getItem(sessionItemKey)) {\n            //still need to initialize i18next but skip call to backend\n            i18next.init(configOptions, function(err, t) { /* global i18next i18nextXHRBackend */\n                callback(t);\n            });\n        } else {\n            i18next.use(i18nextXHRBackend).init(configOptions, function(err, t) { /* global i18next i18nextXHRBackend */\n                callback(t);\n            });\n        }\n    }\n    return {\n        init: function(options, callback) {\n            callback = callback || function() {};\n            try {\n                init(options, callback);\n            } catch(e) { /*eslint no-console: off */\n                console.log(\"Error initialized i18next \", e.message); //note i18next makes use of session storage/local storage, the access of which creates JS runtime error when cookies are disabled, so we need to catch them\n                callback();\n            }\n        }\n    };\n})();\n\n\n"],"sourceRoot":""}